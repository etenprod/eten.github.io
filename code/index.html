<!DOCTYPE html>
<html lang="ru" class="scroll-smooth">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=	, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<meta name="description" content="EtEn Code">
	<link rel="icon" href="img/Code.svg" type="image/svg">
	<meta name="image" content="img/Code.svg">
	<meta name="author" content="darud">
	<meta name="copyright" content="Made by Darud">
	<title>EtEn Code</title>
	<script src="https://cdn.jsdelivr.net/npm/brython@3/brython.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/brython@3/brython_stdlib.js"></script>
</head>
<body onload="brython()">
<script type="text/python">
	from browser import document
	from browser.widgets.dialog import InfoDialog

	def code(ev):
		eng = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']
		rus = ['а', 'б', 'в', 'г', 'д', 'е', 'ё', 'ж', 'з', 'и', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ъ', 'ы', 'ь', 'э', 'ю', 'я']
		ukr = ['а', 'б', 'в', 'г', 'ґ', 'д', 'е', 'є', 'ж', 'з', 'и', 'і', 'ї', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ь', 'ю', 'я']
		
		engU = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
		rusU = ['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ё', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я']
		ukrU = ['А', 'Б', 'В', 'Г', 'Ґ', 'Д', 'Е', 'Є', 'Ж', 'З', 'И', 'І', 'Ї', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ь', 'Ю', 'Я']

		num = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']

		dic = []
		dicU = []

		def split(s): return [char for char in s]

		def listToString(s):
			str1 = ""
			for ele in s:
			    str1 += ele
			return str1

		text = []
		textc = document['codez'].value
		textcsplit = split(textc)

		for i in range(len(textcsplit)):
		    if (textcsplit[i] in eng or textcsplit[i] in engU) and dic != eng:
		        dic = eng
		        dicU = engU
		        text.append('~' + str(0))
		    elif (textcsplit[i] in rus or textcsplit[i] in rusU):
		        if dic != rus:
		        	dic = rus
		        	dicU = rusU
		        	text.append('~' + str(1))
		    elif (textcsplit[i] in ukr or textcsplit[i] in ukrU) and dic != ukr:
		        dic = ukr
		        dicU = ukrU
		        text.append('~' + str(2))

		    if textcsplit[i] in dic: text.append('.'+str((dic.index(textcsplit[i])+1)))
		    elif textcsplit[i] in dicU: text.append(':'+str((dicU.index(textcsplit[i])+1)))
		    elif textcsplit[i] in num: text.append(','+str(textcsplit[i]))
		    elif textcsplit[i] == ' ': text.append('_')
		    else: text.append('/'+str(textcsplit[i]))

		document['output'].text = listToString(text)
	document["code"].bind("click", code)


	#

	def decode(ev):	    
		eng = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']
		rus = ['а', 'б', 'в', 'г', 'д', 'е', 'ё', 'ж', 'з', 'и', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ъ', 'ы', 'ь', 'э', 'ю', 'я']
		ukr = ['а', 'б', 'в', 'г', 'ґ', 'д', 'е', 'є', 'ж', 'з', 'и', 'і', 'ї', 'й', 'к', 'л', 'м', 'н', 'о', 'п', 'р', 'с', 'т', 'у', 'ф', 'х', 'ц', 'ч', 'ш', 'щ', 'ь', 'ю', 'я']

		engU = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']
		rusU = ['А', 'Б', 'В', 'Г', 'Д', 'Е', 'Ё', 'Ж', 'З', 'И', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ъ', 'Ы', 'Ь', 'Э', 'Ю', 'Я']
		ukrU = ['А', 'Б', 'В', 'Г', 'Ґ', 'Д', 'Е', 'Є', 'Ж', 'З', 'И', 'І', 'Ї', 'Й', 'К', 'Л', 'М', 'Н', 'О', 'П', 'Р', 'С', 'Т', 'У', 'Ф', 'Х', 'Ц', 'Ч', 'Ш', 'Щ', 'Ь', 'Ю', 'Я']

		num = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9']

		dic = []
		dicU = []

		def split(s): return [char for char in s]

		def listToString(s):
		    str1 = ""
		    for ele in s:
		        str1 += ele
		    return str1

		code = []
		codec = document['decodez'].value
		codecsplit = split(codec)
		i=0
		while i < len(codecsplit):
			jump = 2

		        if codecsplit[i] == '~':
		            if codecsplit[i+1] == '0':
		                dic = eng
		                dicU = engU
		            elif codecsplit[i+1] == '1':
		                dic = rus
		                dicU = rusU
		            elif codecsplit[i+1] == '2':
		                dic = ukr
		                dicU = ukrU
		        elif codecsplit[i] == '.' and codecsplit[i + 1] in num:
		            if i + 3 <= len(codecsplit):
		                if codecsplit[i + 2] in num:
		                    if len(dic)<(int(codecsplit[i + 1] + codecsplit[i + 2]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                    else:
		                        code.append(dic[int(codecsplit[i + 1] + codecsplit[i + 2]) - 1])
		                        jump = 3
		                else:
		                    if len(dic)<(int(codecsplit[i + 1]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                    else: code.append(dic[int(codecsplit[i + 1]) - 1])
		            else:
		                if len(dic) < (int(codecsplit[i + 1]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                else: code.append(dic[int(codecsplit[i + 1]) - 1])
		        elif codecsplit[i] == ':' and codecsplit[i + 1] in num:
		            if i + 3 <= len(codecsplit):
		                if codecsplit[i + 2] in num:
		                    if len(dicU)<(int(codecsplit[i + 1] + codecsplit[i + 2]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                    else:
		                        code.append(dicU[int(codecsplit[i + 1] + codecsplit[i + 2]) - 1])
		                        jump = 3
		                else:
		                    if len(dicU)<(int(codecsplit[i + 1]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                    else: code.append(dicU[int(codecsplit[i + 1]) - 1])
		            else:
		                if len(dicU) < (int(codecsplit[i + 1]) - 1) or codecsplit[i + 1] == '0': code.append('■')
		                else: code.append(dicU[int(codecsplit[i + 1]) - 1])
		        elif codecsplit[i] == ',' and codecsplit[i + 1] in num: code.append((codecsplit[i + 1]))
		        elif codecsplit[i] == '/': code.append((codecsplit[i + 1]))
		        elif codecsplit[i] == '_':
		            code.append(' ')
		            jump = 1
		        else: jump = 1

		        i += jump

		document['output'].text = listToString(code)
	document["decode"].bind("click", decode)
</script>
	<div class="row">
		<div class="column">
			<div id="logo">
				<img src="img/Code.svg" alt="">
				<h1>EtEn Code</h1>
			</div>
			</div>
			</div>
	<hr>
<div class="middle">
	    <input id="codez" placeholder="Текст"><br>
		<button id="code">Зашифровать</button><br>
		<input id="decodez" placeholder="Код"><br>
		<button id="decode">Расшифровать</button><br>
		<p id="output">...</p>
		<button onclick="copyElementText()">Скопировать</button>
		<script>
			function copyElementText() {
			    var text = document.getElementById("output").innerText;
			    var elem = document.createElement("textarea");
			    document.body.appendChild(elem);
			    elem.value = text;
			    elem.select();
			    document.execCommand("copy");
			    document.body.removeChild(elem);
			}
		</script>
  	</div>
<div style="width:100%; height:1px; clear:both;"></div>
<hr>

<div class="row">
	<div class="column">
		<div id="logo-footer">
			<a href="https://eten.pp.ua"><img src="img/logo.svg" alt=""></a>
			<div id="logo-footer2"><a href="https://eten.pp.ua"><h4>EtEn Sites</h4></a></div>
			<div id="title-text-footer">
				<h5>Made by <br><a href="https://eten.pp.ua/" target="_blank">Darud</a></h5>
			</div>
		</div>
	</div>
		<div class="column">
			<div class="wrapper">
				<div id="media-wr"><a href="https://discord.gg/k445e4uSFf" target="_blank"><img src="img/discord.svg" alt="" id="media"></a></div>
				<div id="media-wr"><a href="https://youtube.com/channel/UCIsfI4D-Zquiw6xHqn5zKew" target="_blank"><img src="img/youtube.svg" alt="" id="media"></a></div>
				<div id="media-wr"><a href="https://instagram.com/eternal_enemies?igshid=YmMyMTA2M2Y=" target="_blank"><img src="img/inst.svg" alt="" id="media"></a></div>
				<div id="media-wr"><a href="https://t.me/etenmusic" target="_blank"><img src="img/tg.svg" alt="" id="media"></a></div>
			</div>
		</div>
	</div>
</body>
</html>
